(function(){tinymce.create("tinymce.plugins.MyLinkPlugin",{init:function(a,b){this.editor=a;a.addCommand("mceMyLink",function(){var c=a.selection;if(c.isCollapsed()&&!a.dom.getParent(c.getNode(),"A")){return}a.windowManager.open({file:b+"/link.htm",width:310+parseInt(a.getLang("mylink.delta_width",0)),height:120+parseInt(a.getLang("mylink.delta_height",0)),inline:1},{plugin_url:b})});a.addButton("link",{title:"mylink.link_desc",cmd:"mceMyLink"});a.addShortcut("ctrl+k","mylink.mylink_desc","mceMyLink");a.onNodeChange.add(function(d,c,f,e){c.setDisabled("link",e&&f.nodeName!="A");c.setActive("link",f.nodeName=="A"&&!f.name)})},getInfo:function(){return{longname:"Advanced link",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/mylink",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("mylink",tinymce.plugins.MyLinkPlugin)})();